# لایه‌ی انتقال/ترنسپورت

## محتویات درس

لایه‌ی انتقال به ما برای انتقال داده‌ها به صورتی که شبکه بتواند آن‌ها را بخواند،کمک می‌کند. این لایه داده‌ها را به قطعه‌هایی که قابل منتقل شده و سپس دوباره به ترتیب سر هم شوند می‌شکند. این قطعه‌ها به اسم سِگمنت‌ها یا قسمت‌ها شناخته می‌شوند. با استفاده از سگمنت‌ها ما اطلاعات را راحت‌تر در طول شبکه جابجا می‌کنیم.

**پورت‌ها**

با وجود اینکه ما می‌دانیم که اطلاعات ما از طریق آدرس‌های IP به کجا فرستاده می‌شود، با این حال این آدرس‌ها آنقدر دقیق نیست که مشخص کند اطلاعات ما به کدام سرویس یا پروسه‌ی خاص فرستاده می‌شود. سرویس‌هایی مثل HTTP از یک کانال ارتباطی از طریق پورت‌ها استفاده می‌کنند. به علاوه برای تشکیل سگمنت‌ها، لایه‌ی انتقال پورت منبع و مقصد را به سگمنت الحاق می‌کند تا دریافت‌کننده‌ی نهایی بسته بداند که از چه پورتی بایستی استفاده کند.

**UDP**

دو پروتکل محبوب و معمول انتقال UDP و TCP نام دارند. ما UDP را به اختصار معرفی می‌کنیم و زمان بیشتری را بر روی TCP می‌گذاریم. این تصمیم به دلیل استفاده‌ی گسترده از پروتکل TCP است.

پروتکل UDP از متد قابل اتکایی برای انتقال داده‌ها استفاده نمی‌کند. در اصل برای این پروتکل داده‌های اصلی هیچ اهمیتی ندارند. شاید در ابتدا وحشتزده شوید اما خب بایستی بدانید که این پروتکل استفاده‌های خاص خودش را دارد. به عنوان مثال برای استریم و پخش فایل‌های رسانه‌ای بسیار مفید است. شاید از دست دادن چند فریم در مقابل سرعت بیشتر در انتقال اطلاعات معامله‌ی خوبی باشد. پس پروتکل UDP اینجا وارد عمل می‌شود.


**TCP**

پروتکل TCP یک ارتباط قابل اتکا از جریان داده‌ها را برقار می‌کند. این پروتکل از پورت‌ها برای ارسال و دریافت اطلاعات از میزبان‌ها استفاده می‌کند. برنامه یک ارتباط را از طریق یک پورت بر روی میزبانش به یک پورت در یک میزبان دیگر باز می‌کند. ما از هندشیک TCP برای ایجاد این ارتباط استفاده می‌کنیم.

+ کلاینت (ارتباط در حال انجام است) یک سگمنت SYN به سرور ارسال کرده و درخواست اتصال می‌دهد.
+ سرور یک سگمنت SYN-ACK برای تایید اتصال درخواستی از طرف کلاینت ارسال می‌کند.
+ کلاینت یک سگمنت ACK به نشانه‌ی تایید درخواست اتصال سرور ارسال می‌کند.

زمانی که این اتصال برقرار شد، داده‌ها می‌توانند از طریق اتصال TCP رد و بدل شوند. داده‌ها از طریق سگمنت‌های مختلف فرستاده می‌شوند و توسط شماره‌ی سریالی TCP ردیابی و پیگیری می‌شوند. این شماره کمک می‌کند تا ترتیب آن‌ها در حین انتقال برای سر هم شدن به هم نریزد. در مثال ایمیل، لایه‌ی انتقال پورت مقصد (۲۵) را علاوه بر پورتِ جایی که ایمیل از آن آمده الحاق می‌کند.

## تمرین

تمرینی برای این درس نداریم! هورااا

## سوال آزمون

پروتکل قابل اتکای انتقال چیست؟

## پاسخ آزمون

TCP
