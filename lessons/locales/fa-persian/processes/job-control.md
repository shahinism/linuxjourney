# مدیریت کار‌ها

## محتوای درس

فرض کنیم که در حال کار در یک پنجرهٔ ترمینال هستید و دستوری که مدت زمان زیادی برای
پایان کارش نیاز دارد را اجرا کرده‌اید. تا زمانی که این دستور پایان نیافته است‌،
شما نمی‌توانید از این ترمینال استفادهٔ دیگری داشته باشید. اما به هر حال می‌خواهیم
با این ماشین کار کنیم و در نتیجه نیاز به باز نگه داشتن این پوستهٔ فرمان داریم.
خوشبختانه ما می‌توانیم روند اجرای پروسه‌ها را با مدیریت کنیم:

### فرستادن یک کار به پس‌زمینه

اضافه کردن یک `&` به پایان دستور، مراحل اجرای دستور را به پس‌زمینه می‌فرستد و شما
می‌توانید از خط فرمان در زمان اجرای آن دستور استفاده کنید:


```
$ sleep 1000 &
$ sleep 1001 &
$ sleep 1002 &
```

### مشاهدهٔ همهٔ کار‌ها

حالا می‌توانید تمام دستور‌های فرستاده شده به پس زمینه را با استفاده از دستور زیر
مشاهده کنید.

```
$ jobs

[1]    Running     sleep 1000 &
[2]-   Running     sleep 1001 &
[3]+   Running     sleep 1002 &

```

در خروجی این دستور‌، شناسهٔ کار در ستون اول، وضعیت در ستون دوم و خود دستور در ستون
سوم نشان داده شده است. علامت `+` پس از شناسهٔ کار نشان می‌دهد که این آخرین کار
اضافه شد به کار‌های پس‌زمینه است و علامت `-` که کار مذکور در این لیست یکی مانده به
آخری است.

### ارسال یک کار به پس‌زمینه برای کار‌های موجود

اگر کاری را اجرا کرده‌اید و می‌خواهید آن را به پس‌زمینه بفرستید‌، نیاز نیست که آن رو
بسته و دوباره اجرا کنید. اول با استفاده از کلید‌های `Ctrl-Z` آن را معلق (suspend)
کنید، و سپس با استفاده از دستور `bg` آن را به پس‌زمینه بفرستید.


```
pete@icebox ~ $ sleep 1003
^Z
[4]+    Stopped     sleep 1003

pete@icebox ~ $ bg
[4]+    sleep 1003 &

pete@icebox ~ $ jobs

[1]    Running     sleep 1000 &
[2]    Running     sleep 1001 &
[3]-   Running     sleep 1002 &
[4]+   Running     sleep 1003 &
```

### بازگرداندن یک کار از پس‌زمینه

برای بازگرداندن یک کار از پس‌زمینه کافیست شناسهٔ کار مورد نظر را به دستور `fg`
بدهید. اگر این دستور را بدون هیچ شناسه‌ای اجرا کنید، آخرین کار فرستاده شده به
پس‌زمینه (نشانه گذاری شده با علامت `+`) بازگردانده خواهد شد.


```
$ fg %1
```

### بستن یک کار پس‌زمینه

همچون بازگرداندن کار‌ها از پس‌زمینه‌، با استفاده از شناسهٔ کار و دستور `kill`
می‌توانید کار‌های پس‌زمینه را ببندید.


```
kill %1```

## تمرین

تعدادی پروسه را به پس‌زمینه فرستاده و سپس آن‌ها را برگردانید.

## سوال آزمون

از چه دستوری برای لیست کردن کار‌های پس زمینه استفاده می‌شود؟

## پاسخ آزمون

jobs
