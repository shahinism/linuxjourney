# rsync/آرسینک

## محتویات درس

یک ابزار دیگر برای کپی کردن داده‌ها از میزبان‌های دیگر rsync (آرسینک) نام دارد. rsync مخفف remote synchronization یا همسان‌سازی از راه دور است. آرسینک بسیار شبیه به همتای خود scp است ولی یک تفاوت عمده با آن دارد. آرسینک از الگوریتم خاصی برای بررسی فایلی که قرار است روی میزبان کپی شود بهره می‌برد. بدین صورت که ابتدا فایل را چک می‌کند و اگر فایل بر روی میزبان هم وجود داشته باشد، تنها تفاوت‌های فایل اصلی با فایلی که قرار است در میزبان بازنویسی شود، را می‌نویسد.

بگذارید مثالی بزنم. فرض کنید که در حال کپی کردن یک فایل، شبکه قطع می‌شود و فایل ناقص کپی می‌شود. عوض اینکه آرسینک در نوبت بعدی کپی کردن اطلاعات، تمام فایل را کپی کند، ابتدا فایل را بررسی می‌نماید و سپس باقیمانده‌ی اطلاعات را کپی می‌کند.

همچنین اصالت فایل را با استفاده از چک‌سام‌ها برای اطمینان از رونوشت گرفتن درست، بررسی می‌کند. همین تفاوت‌های کوچک به انعطاف‌پذیری بیشتر در انتقال اطلاعات منجر شده و آرسینک را به یک ابزار ایده‌آل برای همسان‌سازی دایرکتوری‌ها چه از راه دور چه محلی بدل کرده.

از گزینه‌ها و سوئیچ‌ها پر کاربرد آرسینک می‌توان به موارد زیر اشاره کرد:

+ v - خروجی طولانی برای مشاهده‌ی ریز اتفاقاتی که در حال افتادن است.
+ r - بازگشت به دایرکتوری‌ها برای کپی کردن اطلاعات یک مسیر شامل زیر مسیرها.
+ h - خروجی قابل خواندن توسط آدمیزاد.
+ z - فشرده‌سازی برای انتقال ساده‌تر. بسیار مناسب برای اتصال‌ها کُند.

**کپی/سینک کردن فایل‌ها در میزبان یکسان**

```$ rsync -zvr /my/local/directory/one /my/local/directory/two```

**کپی/سینک کردن فایل‌ها به یک میزبان محلی از یک میزبان از راه دور**

```$ rsync /local/directory username@remotehost.com:/remote/directory```

**کپی/سینک کردن فایل‌ها به یک میزبان از راه دور از یک میزبان محلی**

```$ rsync username@remotehost.com:/remote/directory /local/directory```

## تمرین

با استفاده از آرسینک یک دایرکتوری را به دایکتوری دیگر سینک کنید. مراقب باشید که دایرکتوری مهمی را ناقص نکنید.

## سوال آزمون

از چه فرمانی برای پشتیبان/بک‌آپ گرفتن از داده‌ها استفاده می‌کنیم؟

## پاسخ آزمون

rsync
